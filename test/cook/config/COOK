scala_lib(
  name = "config_scala_source_generator_test",
  srcs = "ConfigScalaSourceGeneratorTest.scala",
  deps = [
    "//lib:scalatest",
    "//src/cook/config/testing:config_ref_test_helper",
    "//src/cook/config:generator",
    "//src/cook/path/testing:path_util_helper",
  ],
)

scala_test(
  name = "run_config_scala_source_generator_test",
  deps = [ ":config_scala_source_generator_test" ],
  testClasses = [
    "cook.config.ConfigScalaSourceGeneratorTest",
  ],
  res = [
    ["testdata", "."],
  ],
)


scala_lib(
  name = "config_compiler_test",
  srcs = "ConfigCompilerTest.scala",
  deps = [
    "//lib:scalatest",
    "//src/cook/config/testing:config_ref_test_helper",
    "//src/cook/config:compiler",
    "//src/cook/config:generator",
    "//src/cook/path/testing:path_util_helper",
    "//src/cook/util/testing:class_path_builder_helper",
  ],
)

scala_test(
  name = "run_config_compiler_test",
  deps = [ ":config_compiler_test" ],
  testClasses = [
    "cook.config.ConfigCompilerTest",
  ],
  res = [
    ["testdata", "."],
  ],
)
