# Genrule for genpeg
#
# Generate java file from peg defines

def genpeg_java(name, src, package, parserName = "Parser", semanticsName = "Semantics") {

  cp = "TODO(timgreen)"
  cmd = "java -cp %s mouse.Generate -G $INPUTS -p %s -P %s -S %s -D $OUTPUT_DIR"
  cmd = cmd % [ cp, src, package, parserName, semanticsName]

  rule(
      name = name,
      inputs = [ src ],
      cmds = [ cmd ]
  )
}
