
def scala_lib(name, srcs, deps = [], cp = []) {

  genrule(
      name = name,
      inputs = srcs,
      deps = deps,
      tools = cp,
      cmds = [
          "CP=(${DEP_OUTPUT_DIRS[*]} ${TOOLS[*]})",
          "CP=$(printf :%s ${CP[*]})",
          "CP=${CP:1}",
          "scalac -d $OUTPUT_DIR -cp $CP ${INPUTS[*]}",
      ],
  )
}
